import { GetProjetAggregateRoot } from '../../getProjetAggregateRoot.port.js';

import {
  ConsulterNatureDeLExploitationDependencies,
  registerConsulterNatureDeLExploitationQuery,
} from './consulter/consulterNatureDeLExploitation.query.js';
import { registerModifierNatureDeLExploitationUseCase } from './modifier/modifierNatureDeLExploitation.usecase.js';
import { registerModifierNatureDeLExploitationCommand } from './modifier/modifierNatureDeLExploitation.command.js';
import {
  ListerHistoriqueNatureDeLExploitationProjetDependencies,
  registerListerHistoriqueNatureDeLExploitationProjetQuery,
} from './listerHistorique/listerHistoriqueNatureDeLExploitationProjet.query.js';
import { registerEnregistrerChangementNatureDeLExploitationCommand } from './changement/enregistrerChangement/enregistrerChangementNatureDeLExploitation.command.js';
import { registerEnregistrerChangementNatureDeLExploitationUseCase } from './changement/enregistrerChangement/enregistrerChangementNatureDeLExploitation.usecase.js';
import {
  ConsulterChangementNatureDeLExploitationDependencies,
  registerConsulterChangementNatureDeLExploitationQuery,
} from './changement/consulter/consulterChangementNatureDeLExploitation.query.js';
import {
  ListerChangementsNatureDeLExploitationDependencies,
  registerListerChangementsNatureDeLExploitationQuery,
} from './changement/lister/listerChangementsNatureDeLExploitation.query.js';

export type NatureDeLExploitationQueryDependencies = ConsulterNatureDeLExploitationDependencies &
  ListerHistoriqueNatureDeLExploitationProjetDependencies &
  ConsulterChangementNatureDeLExploitationDependencies &
  ListerChangementsNatureDeLExploitationDependencies;

export type NatureDeLExploitationCommandDependencies = {
  getProjetAggregateRoot: GetProjetAggregateRoot;
};

export const registerNatureDeLExploitationUseCases = (
  dependencies: NatureDeLExploitationCommandDependencies,
) => {
  registerModifierNatureDeLExploitationCommand(dependencies.getProjetAggregateRoot);
  registerEnregistrerChangementNatureDeLExploitationCommand(dependencies.getProjetAggregateRoot);
  registerModifierNatureDeLExploitationUseCase();
  registerEnregistrerChangementNatureDeLExploitationUseCase();
};

export const registerNatureDeLExploitationQueries = (
  dependencies: NatureDeLExploitationQueryDependencies,
) => {
  registerConsulterNatureDeLExploitationQuery(dependencies);
  registerConsulterChangementNatureDeLExploitationQuery(dependencies);
  registerListerHistoriqueNatureDeLExploitationProjetQuery(dependencies);
  registerListerChangementsNatureDeLExploitationQuery(dependencies);
};
