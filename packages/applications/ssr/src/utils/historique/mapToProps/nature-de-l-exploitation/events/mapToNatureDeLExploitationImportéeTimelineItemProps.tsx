import { Lauréat } from '@potentiel-domain/projet';

import { getNatureDeLExploitationTypeLabel } from '@/app/_helpers/getNatureDeLExploitationTypeLabel';

export const mapToNatureDeLExploitationImportéeTimelineItemProps = (
  record: Lauréat.NatureDeLExploitation.NatureDeLExploitationImportéeEvent,
) => {
  const { importéeLe, typeNatureDeLExploitation, tauxPrévisionnelACI } = record.payload;
  return {
    date: importéeLe,
    title: (
      <div>
        Candidature :{' '}
        {
          <>
            <span className="font-semibold">
              {getNatureDeLExploitationTypeLabel(typeNatureDeLExploitation)}
            </span>
            {tauxPrévisionnelACI ? (
              <span className="font-semibold">
                Taux d'autoconsommation individuelle prévisionnel : {tauxPrévisionnelACI} %
              </span>
            ) : null}
          </>
        }
      </div>
    ),
  };
};
