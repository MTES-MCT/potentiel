import { Lauréat } from '@potentiel-domain/projet';

import { DossierAccessor } from '../../graphql/index.js';
import { mapSelectToValueType } from '../mappers/mapSelectToValueType.js';
import { reverseRecord } from '../reverseRecord.js';

const typeNatureDeLExploitationMap = reverseRecord({
  'vente-avec-injection-du-surplus': 'Vente avec injection du surplus',
  'vente-avec-injection-en-totalité': `Vente avec injection en totalité`,
} satisfies Partial<
  Record<Lauréat.NatureDeLExploitation.TypeDeNatureDeLExploitation.RawType, string>
>);

export const getTypeNatureDeLExploitation = <
  T extends Record<string, string>,
  TName extends string & keyof T,
>(
  accessor: DossierAccessor<T>,
  nom: TName,
) => mapSelectToValueType(typeNatureDeLExploitationMap, accessor, nom);
